<div id="content-header">
  <h1>Schedule</h1>
</div>


<div id="content-container" ng-show="appointments">
  <div class="row"> 
    <div class="col-md-12">
      <table class="table table-bordered table-highlight">
        <thead>
          <tr>
            <th colspan="3">
              <form ng-submit="search(keywords)">
                <div class="input-group search-form">
                  <input autocomplete="off" ng-model="searchTerm" name="keywords" type="text" autofocus class="form-control" ng-model="keywords">
                  <span class="input-group-btn">
                    <button class="btn btn-info" type="button">
                      Search
                      <i class="fa fa-search"></i>
                    </button>
                  </span>
                </div>
              </form>
            </th>
            <th colspan="3">
              <button class="btn btn-success pull-right" ng-click="openNew('lg')">
                <i class="fa fa-calendar"></i>
                &nbsp;&nbsp;Schedule Appoitment
              </button>
            </th>
          </tr>
          <tr>
            <th ng-click="reverse=!reverse;order('id',reverse)">
              Date
              <i class="fa" ng-class="reverse ? 'fa-angle-up' : 'fa-angle-down'"></i>
            </th>
            <th ng-click="reverse=!reverse;order('time',reverse)">
              Time
              <i class="fa" ng-class="reverse ? 'fa-angle-up' : 'fa-angle-down'"></i>
            </th>
            <th ng-click="reverse=!reverse;order('obs',reverse)">
              Client
              <i class="fa" ng-class="reverse ? 'fa-angle-up' : 'fa-angle-down'"></i>
            </th>
            <th ng-click="reverse=!reverse;order('duration',reverse)">
              Duration
              <i class="fa" ng-class="reverse ? 'fa-angle-up' : 'fa-angle-down'"></i>
            </th>
            <th ng-click="reverse=!reverse;order('visit_type',reverse)">
              Type
              <i class="fa" ng-class="reverse ? 'fa-angle-up' : 'fa-angle-down'"></i>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="appointment in filteredAppointments = (appointments | filter: searchTerm)" class="patientrow" ng-click="openEdit('lg', appointment.id)">
            <td>
              {{appointment.date | date:"dd/MM/yyyy"}}
            </td>
            <td>{{appointment.time | date:'h:mm a'}}</td>
            <td>{{appointment.obs}}</td>
            <td>{{appointment.duration | durationFilter}}</td>
            <td>{{appointment.visit_type}}</td>
          </tr>
          <tr ng-if="filteredAppointments.length == 0" class="text-center">
            <td colspan="5"><span class="h5"><b>No results found.</b></span></td>
          </tr>

        </tbody>
      </table>
    </div>
  </div>

</div>  
